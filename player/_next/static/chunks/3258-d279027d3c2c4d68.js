(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3258],{93258:function(e,t,a){Promise.resolve().then(a.bind(a,41406)),Promise.resolve().then(a.bind(a,81296)),Promise.resolve().then(a.t.bind(a,32047,23))},88698:function(e,t,a){"use strict";a.r(t),a.d(t,{VideoDownload:function(){return VideoDownload}});var r=a(21482),l=a(6665),n=a(18251),s=a(64521),i=a(26460),o=a(26359),d=a(77021);let VideoDownload=e=>{let{files:t}=e,a=(0,l.$G)(),c=Object.values(t).map(e=>({url:e.url,quality:e.height})),u=c.every(e=>!e.url);if(c.length<=1){var m;let e=c[0];return e?(0,r.jsxs)(n.a,{as:"a",disabled:u,title:a("player.download-quality$",{quality:null!==(m=e.quality)&&void 0!==m?m:360}),href:e.url||"#",download:!0,children:[(0,r.jsx)("span",{className:"material-icons -ml-1 mt-0.5",children:"download"}),(0,r.jsx)("span",{children:a("common.download")})]}):null}return(0,r.jsxs)(s.a,{children:[(0,r.jsx)(i.xz,{asChild:!0,disabled:u,children:(0,r.jsxs)(n.a,{title:a("player.download-video-button-title"),disabled:u,children:[(0,r.jsx)("span",{className:"material-icons -ml-1 mt-0.5",children:"download"}),(0,r.jsx)("span",{children:a("common.download")})]})}),(0,r.jsx)(o.a,{className:"mt-1 ml-4 sm:ml-0",children:c.map(e=>{var t;return(0,r.jsx)(d.a,{className:"!p-0 text-gray-600 hover:text-gray-900 ",children:(0,r.jsx)("a",{className:"px-3 py-1.5",href:e.url,download:!0,children:a("player.download-quality$",{quality:null!==(t=e.quality)&&void 0!==t?t:360})})},e.quality)})})]})}},88849:function(e,t,a){"use strict";a.r(t),a.d(t,{COPY_URL_TIP_LOCAL_STORAGE_KEY:function(){return w},VideoShare:function(){return VideoShare}});var r=a(21482),l=a(45442),n=a(31220),s=a(49024),i=a(6665),o=a(77279);let Markdown=e=>{let{text:t,className:a}=e;return t?(0,r.jsx)(s.U,{className:a,rehypePlugins:[o.Z],components:{p:l.Fragment},unwrapDisallowed:!0,children:t}):(console.warn("Markdown component received empty text prop"),null)},MarkdownTranslated=e=>{let{className:t,locale:a,translationKey:l}=e,n=(0,i.$G)(a);return l.endsWith(i.gJ.MARKDOWN)||console.warn("MarkdownTranslated component received a key that doesn't end with ".concat(i.gJ.MARKDOWN," which is against the convention")),(0,r.jsx)(Markdown,{className:t,text:n(l)})};var d=a(91222);let useLocalStorage=(e,t)=>{let[a,r]=(0,l.useState)(t);return(0,l.useEffect)(()=>{let t=localStorage.getItem(e);t&&r(parse(t,e))},[e]),[a,t=>{localStorage.setItem(e,JSON.stringify(t)),r(t)}]},parse=(e,t)=>{try{return JSON.parse(e)}catch(a){return d.k.error("Error parsing localStorage value for key ".concat(t,": ").concat(e)),e}};var c=a(51618),u=a(62023),m=a(18251),h=a(47021),x=a(70753),p=a(37993),f=a.n(p);let timeStringToSeconds=e=>{let t=e.split(":"),[,a]=t,[r,l]=t.map(Number),n=!isNaN(r),s="  "!==a&&!isNaN(l);return n&&!s?r:n||s?60*r+l:0},w="player-copy-url-tip-shown",VideoShare=e=>{let{duration:t,shortcode:a}=e,s=(0,i.$G)(),[o,d]=(0,l.useState)(!1),p=(0,l.useRef)(null),[g,y]=(0,l.useState)(!1),[j,v]=(0,l.useState)(!1),[b,N]=(0,l.useState)(""),V=timeStringToSeconds(b),P=V>t,S="?".concat(j?"t=".concat(V>t?Math.floor(t):V,"&"):"").concat("src=player-page-share"),k=(0,c.t)(a,S),[C,_]=useLocalStorage(w,!0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.a,{onClick:()=>d(!0),children:[(0,r.jsx)("span",{className:"material-icons -ml-1 -mt-0.5",children:"ios_share"}),(0,r.jsx)("span",{children:s("common.share")})]}),(0,r.jsxs)(h.a,{className:"!rounded-xl min-w-[12rem]",hideConfirm:!0,hideCancel:!0,title:s("common.share"),isShowing:o,onClose:()=>d(!1),lowerSlot:C&&(0,r.jsx)(x.a,{hideCancel:!0,hideConfirm:!0,hideClose:!0,className:"!rounded-xl mt-4 p-0",title:s("common.quick-tip"),children:(0,r.jsxs)("div",{className:"flex flex-col gap-3 -mt-4",children:[(0,r.jsx)("span",{children:(0,r.jsx)(MarkdownTranslated,{translationKey:"player.share-right-click-tip*"})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.a,{onClick:()=>_(!1),children:s("common.quick-tip-acknowledge")})})]})}),children:[(0,r.jsxs)("div",{tabIndex:0,className:"flex border rounded justify-between bg-white gap-4 pl-2 pr-1.5 py-1 -mt-4 w-full focus:outline-none focus:border-brand-primary focus-within:border-brand-primary",children:[(0,r.jsx)("span",{className:"text-sm whitespace-nowrap truncate",children:k}),(0,r.jsx)(m.a,{size:"slim",variant:"filled",color:g?"secondary":"primary",disabled:g,onClick:async()=>{await (0,u.v)(k),y(!0),setTimeout(()=>y(!1),1e3)},children:s(g?"common.copied":"common.copy")})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col justify-start gap-2 text-sm sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",disabled:!t,checked:j,onChange:()=>{v(e=>!e),N(""),j||setTimeout(()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},0)}}),(0,r.jsx)("label",{htmlFor:"time",children:s("player.share-time-start-at")}),(0,r.jsxs)("div",{className:"relative flex items-center",children:[(0,r.jsx)(n.HH,{format:"##:##",name:"time",getInputRef:p,className:f()("bg-white rounded px-2.5 py-1.5 border",{"border-white":!j,"border-gray-300":j,"border-red-500 outline-red-500 w-[4.5rem]":P,"w-16":!P}),placeholder:"00:00",disabled:!j,onChange:e=>N(e.target.value),value:b}),P&&(0,r.jsx)("span",{className:"material-icons scale-75 text-red-500 absolute right-1",children:"error"})]})]}),P&&(0,r.jsx)("p",{className:"text-red-500",children:s("player.share-time-exceeds-duration")})]})]})]})}},13804:function(e,t,a){"use strict";a.d(t,{O:function(){return useDefaultPlayerConfig}});var r=a(38652);let useSearchParamsPlayerConfig=e=>{let t=(0,r.useSearchParams)(),a=e?(null==t?void 0:t.get("autoplay"))==="1":(null==t?void 0:t.get("autoplay"))!=="0",l={autoplay:a,loop:(null==t?void 0:t.get("loop"))!=="0",muted:(null==t?void 0:t.get("muted"))==="1"||void 0,nocontrols:(null==t?void 0:t.get("nocontrols"))==="1"||void 0,quality:(null==t?void 0:t.get("quality"))==="highest"?"highest":void 0};return l},useDefaultPlayerConfig=function(){let{embed:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{embed:!1},t=useSearchParamsPlayerConfig(e),a={...t,autofocus:!0,forceWidescreenAspectRatio:!1,globalKeyboardControl:!0};return a}},259:function(e,t,a){"use strict";a.d(t,{L:function(){return VideoPlayerContainer}});var r=a(21482),l=a(66118),n=a(37993),s=a.n(n),i=a(16537),o=a(31711),d=a(88698),c=a(88849);let VideoActions=e=>{var t;let{files:a,allow_download:l,allow_sharing:n,shortcode:s}=e;return a?(0,r.jsxs)("div",{className:"flex gap-3",children:[l&&(0,r.jsx)(d.VideoDownload,{files:a}),n&&(0,r.jsx)(c.VideoShare,{shortcode:s,duration:(null===(t=a.mp4)||void 0===t?void 0:t.duration)||0})]}):null},VideoPlayerInfo=e=>{let{video:t,withActions:a=!0}=e,{isVideoPublic:l,isVideoOwner:n,isVideoBanned:s}=(0,o.y)(t);return s||!(l||n)?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-4 mr-4",children:(0,r.jsx)(i._,{title:t.title,plays:t.plays,hide_view_count:t.hide_view_count,date_added:t.date_added})}),a&&(0,r.jsx)(VideoActions,{files:t.files,allow_download:t.allow_download,allow_sharing:t.allow_sharing,shortcode:t.shortcode})]})},VideoPlayerContainer=e=>{let{withActions:t,...a}=e,n=a.video,i=n.height&&n.width&&n.height>n.width,o=s()("flex flex-wrap md:flex-nowrap my-4 items-start",{"flex-col":i},{"justify-between":!i});return(0,r.jsx)(l.L,{...a,children:(0,r.jsx)("div",{className:o,id:"player-".concat(n.shortcode,"-info"),children:(0,r.jsx)(VideoPlayerInfo,{video:n,withActions:t})})})}},41406:function(e,t,a){"use strict";a.r(t),a.d(t,{VideoView:function(){return VideoView}});var r=a(21482),l=a(45442),n=a(6665),s=a(34424),i=a(55028),o=a(66715),d=a(24585),c=a(28635),u=a(97439),m=a(31711);let AdLayout=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex justify-center py-2 w-full sm:min-h-[5.5rem]",children:t})},PlayerLayout=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col justify-center items-center px-4 my-4 w-full z-0",children:t})},VideoLayout=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col items-center justify-between w-full gap-y-2 mx-auto bg-surface-secondary min-h-screen",children:t})};var h=a(50997),x=a(96673),p=a(18251),f=a(37993),F=({children:e,type:t="info",size:a="default",dismissable:n=!0,onDismiss:s,className:i})=>{let[o,d]=(0,l.useState)(!0);return o?(0,r.jsxs)("div",{className:f("tw-flex tw-items-center tw-gap-1 tw-w-full tw-rounded-xl tw-text-center tw-py-3 tw-px-4  tw-not-italic tw-leading-6",n?"tw-justify-between":"tw-justify-center",{"tw-text-sm":"slim"===a,"tw-text-base":"default"===a},{"tw-bg-[#FFF8D4] tw-text-[#333333]":"info"===t,"tw-bg-[#F0FEF5] tw-text-[#155724]":"success"===t,"tw-bg-[#F8D7DA] tw-text-[#721C24]":"warning"===t},i),children:[e,n&&(0,r.jsx)(p.a,{className:"tw-p-1",variant:"link",onClick:()=>{d(!1),null==s||s()},children:(0,r.jsx)(x.a,{className:"tw-relative tw-top-[1px]"})})]}):null},w=a(3487),g=a.n(w);let VideoBannerComponent=e=>{let{showDomainRestrictedBanner:t}=e,a=(0,n.$G)();return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsx)("div",{className:"my-0 mx-auto mb-4 w-full sm:w-3/5",children:(0,r.jsxs)(F,{dismissable:!1,className:"!text-sm",children:[a("player.domain-banner-message")," ",(0,r.jsx)(g(),{className:"contents text-brand-primary",href:"".concat(h.k.WEB_APP,"/settings"),children:a("player.domain-banner-message-approved-domains")})]})})})};var y=a(70592),j=a.n(y),v={src:"https://ui-statics-cf.streamable.com/player/_next/static/media/streamable-logo.40e0214f.svg",height:30,width:169,blurWidth:0,blurHeight:0};let VideoHeaderLogin=e=>{let{isLoggedIn:t}=e,a=(0,n.$G)();return void 0===t?null:!0===t?(0,r.jsx)(g(),{href:h.k.WEB_APP,children:(0,r.jsxs)(p.a,{variant:"filled",color:"primary",children:[a("common.open"),(0,r.jsx)("span",{className:"hidden sm:block",children:" ".concat(a("common.streamable"))})]})}):(0,r.jsxs)("section",{children:[(0,r.jsx)(g(),{href:"".concat(h.k.WEB_APP,"/login"),className:"mr-4 sm:inline hidden",children:a("common.login")}),(0,r.jsx)(g(),{href:"".concat(h.k.WEB_APP,"/signup"),children:(0,r.jsxs)(p.a,{variant:"filled",color:"primary",children:[a("common.signup"),(0,r.jsx)("span",{className:"sm:block hidden",children:" ".concat(a("common.for-free"))})]})})]})},VideoHeaderWrapper=e=>{let{children:t}=e;return(0,r.jsx)("nav",{className:"flex items-center justify-between px-5 py-2 w-full min-h-[3.75rem]",children:t})},VideoHeaderLogo=()=>(0,r.jsx)("section",{children:(0,r.jsx)("a",{href:h.k.WEB_APP,className:"flex items-center",children:(0,r.jsx)(j(),{alt:"Streamable Logo",src:v})})}),VideoHeader=e=>{let{isLoggedIn:t}=e;return(0,r.jsxs)(VideoHeaderWrapper,{children:[(0,r.jsx)("section",{children:(0,r.jsx)(VideoHeaderLogo,{})}),(0,r.jsx)(VideoHeaderLogin,{isLoggedIn:t})]})};var b=a(13804),N=a(259);let VideoViewComponent=e=>{let{video:t,isLoggedIn:a,onEvent:l}=e,n=(0,s.C)(d.mH),i=(0,s.C)(d.rZ),{isVideoOwner:o,isShowingDomainRestrictionBanner:h,isVideoShowingAd:x,isVideoWhitelabeled:p}=(0,m.y)(t),f=(0,b.O)();return(0,r.jsxs)(VideoLayout,{children:[!p&&(0,r.jsx)(VideoHeader,{isLoggedIn:a}),x&&(0,r.jsx)(AdLayout,{children:(0,r.jsx)(c.Ad,{isOwner:o,mediaType:"video"})}),(0,r.jsxs)(PlayerLayout,{children:[(0,r.jsx)(VideoBannerComponent,{showDomainRestrictedBanner:h}),(0,r.jsx)(N.L,{video:t,config:f,onEvent:l,isVideoPasswordError:n,isVideoPlayerReady:i})]}),(0,r.jsx)(u.$,{isWhiteLabel:p,shortcode:t.shortcode,srcInternal:"streamable-player-page-footer",marketingSlug:"src_player=page-video-footer"})]})},VideoView=e=>{let{video:t}=e,a=(0,s.T)(),c=(0,n.$G)(),u=(0,s.C)(d.Uw)||t,m=(0,s.C)(i.Qb),[h,x]=(0,l.useState)();(0,l.useEffect)(()=>{x(m)},[m]),(0,l.useEffect)(()=>{a(o.l.page.initialized(t))},[a,t]),(0,l.useEffect)(()=>{document.title=c("player.video-page-title$",{title:u.title||u.shortcode})},[c,u.title,u.shortcode]);let p=(0,l.useCallback)(e=>a(o.l.page.player.event({shortcode:u.shortcode,event:e})),[a,u.shortcode]);return(0,r.jsx)(VideoViewComponent,{video:u,isLoggedIn:h,onEvent:p})}},55028:function(e,t,a){"use strict";a.d(t,{Mc:function(){return n},Qb:function(){return l},xd:function(){return s}});var r=a(47186);let selectMeState=e=>e.me,l=(0,r.P1)(selectMeState,e=>!!e.user_name);(0,r.P1)(selectMeState,e=>!!e.dark_mode);let n=(0,r.P1)(selectMeState,e=>e.plan),s=(0,r.P1)(selectMeState,e=>e.no_trial)}}]);